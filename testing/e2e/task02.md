# 課題02

## 質問

### E2Eのメリット・デメリット

#### メリット

- 実際のユースケースを想定してテストすることができる
- デグレードが発生していないかのリグレッションテストを自動で行うことができる

#### デメリット

- 表示の崩れは検知できない
- テストしようと思えばテストできてしまうため、テストの粒度が開発者に依ってしまう
- 非同期処理によって要素の変更がある場合、要素の変更が終わる前にテストが進んでしまいテスト失敗することがある

### テスト手法の基準

独立したコンポーネントをテストするのであれば、UT > IT > E2E  
複数のコンポーネントをテストするのであれば、E2E > IT > UT  

### E2Eでの要素

#### CSSのclass

classが重複する可能性があるため、ボタンを識別できなくなる  
スタイルの変更に合わせてテストの変更も必要になる  

#### CSSのid

idの変更に合わせてテストの変更が必要になる  

#### 要素の文言

文言の変更に合わせてテストの変更が必要になる  

#### 壊れにくい要素

テスト用の独自属性を設定する  
属性名もテスト用だとわかる名前にする  

### 参考

<https://www.praha-inc.com/lab/posts/e2e-testing>
<https://blog.autify.com/ja/why-id-should-not-be-used>
<https://docs.cypress.io/guides/references/best-practices>
<https://zenn.dev/ojin/articles/a72cdb9eeff4e8>
